<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8" />
		<title>Ping Pong</title>
		<link type="text/css" rel="stylesheet" href="ThreeJs/examples/main.css" />
	</head>

	<body>
		<div id="info">Ping Pong</div>
		<div id="container"></div>

		<script type="module">
			import * as THREE from '/ThreeJs/build/three.module.js';

			// Scene
			const scene = new THREE.Scene();

			const left = 0;
			const right = 300; // default canvas size
			const top = 0;
			const bottom = 150; // defautl canvas size
			const near = -1;
			const far = 1;
			const camera = new THREE.OrthographicCamera(
				left,
				right,
				top,
				bottom,
				near,
				far
			);

			scene.background = new THREE.Color("black");

			const renderer = new THREE.WebGLRenderer();
			renderer.setSize(window.innerWidth, window.innerHeight);
			document.body.appendChild(renderer.domElement);

			//Textures
			const loader = new THREE.TextureLoader();
			const hockeyDiskTexture = loader.load("ThreeJs/examples/textures/HockeyDisk.png");

			// Plane Object
			const Size = 10;
			const geometry = new THREE.PlaneGeometry(Size, Size);

			const material = new THREE.MeshBasicMaterial({
				transparent: true, 
				map: hockeyDiskTexture,
				side: THREE.DoubleSide,
			});
			const hockeyDiskObject = new THREE.Mesh(geometry, material);

			hockeyDiskObject.position.x = right/2
			hockeyDiskObject.position.y = bottom/2

			scene.add(hockeyDiskObject);

			var box = new THREE.Box3().setFromObject(hockeyDiskObject)

			console.log(box)
			
			// Vars
			var movementX = 0.5;
			var movementY = 0.5;

			// Animate Function
			function animate() {


				requestAnimationFrame(animate);
				renderer.render(scene, camera);

				hockeyDiskObject.position.x += movementX;
				hockeyDiskObject.position.y += movementY;

				if (hockeyDiskObject.position.x >= 300){
					movementX = -movementX;
				}

				if (hockeyDiskObject.position.x <= 0){
					movementX = -movementX;
				}

				if (hockeyDiskObject.position.y >= 150){
					movementY = -movementY;
				}

				if (hockeyDiskObject.position.y <= 0){
					movementY = -movementY;
				}

			}

			//Start
			animate();
		</script>
	</body>
</html>
